package com.example.imagescaler.service.image;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;
import org.mockito.MockitoAnnotations;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.mock.mockito.MockBean;
import org.springframework.http.HttpEntity;
import org.springframework.http.HttpMethod;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.test.context.junit.jupiter.SpringExtension;
import org.springframework.web.client.RestTemplate;
import org.springframework.web.multipart.MultipartFile;

import java.io.IOException;

import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.mockito.Mockito.*;

@ExtendWith(SpringExtension.class)
@SpringBootTest
class UpscaleServiceImplTest {

    public static final String VALID_BASE64 = "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";
    @MockBean
    private RestTemplate restTemplate;

    @Autowired
    private UpscaleServiceImpl upscaleService;

    @BeforeEach
    public void setUp() {
        MockitoAnnotations.openMocks(this);
    }

    @Test
    public void testParseMessageErrorWithArgs() throws IOException {
        var image = mock(MultipartFile.class);
        when(image.getSize()).thenReturn(1024L);
        when(image.getBytes()).thenReturn(VALID_BASE64.getBytes());

        String mockJsonStringLiteral = "{" +
                "\"header\": {" +
                "\"requestId\": \"c38238f2677348f996731f484fc981fc\"," +
                "\"status\": {" +
                "\"code\": 1," +
                "\"description\": \"ValueError('Max image pixels for input is 1048576 (width * height), but got 1918800 (1599 * 1200)')\"," +
                "\"exception\": {" +
                "\"name\": \"ValueError\"," +
                "\"args\": [\"Max image pixels for input is 1048576 (width * height), but got 1918800 (1599 * 1200)\"]," +
                "\"stacks\": [\"Traceback (most recent call last):\\n\"]" +
                "}" +
                "}" +
                "}" +
                "}";

        ResponseEntity<String> mockResponse = new ResponseEntity<>(mockJsonStringLiteral, HttpStatus.OK);
        when(restTemplate.exchange(anyString(), any(), any(HttpEntity.class), eq(String.class)))
                .thenReturn(mockResponse);

        var result = upscaleService.upscale(image);

        assertEquals(HttpStatus.BAD_REQUEST, result.getStatusCode());
        assertEquals("Max image pixels for input is 1048576 (width * height), but got 1918800 (1599 * 1200)", result.getBody());
        verify(restTemplate, times(1)).exchange(anyString(), eq(HttpMethod.POST), any(HttpEntity.class), eq(String.class));
    }

    @Test
    public void testParseMessageErrorWithoutArgs() throws IOException {
        var image = mock(MultipartFile.class);
        when(image.getSize()).thenReturn(1024L);
        when(image.getBytes()).thenReturn(VALID_BASE64.getBytes());

        String mockJsonStringLiteral = "{" +
                "\"header\": {" +
                "\"requestId\": \"c38238f2677348f996731f484fc981fc\"," +
                "\"status\": {" +
                "\"code\": 1," +
                "\"description\": \"ValueError('Max image pixels for input is 1048576 (width * height), but got 1918800 (1599 * 1200)')\"," +
                "\"exception\": {" +
                "\"name\": \"ValueError\"," +
                "\"stacks\": [\"Traceback (most recent call last):\\n\"]" +
                "}" +
                "}" +
                "}" +
                "}";

        ResponseEntity<String> mockResponse = new ResponseEntity<>(mockJsonStringLiteral, HttpStatus.OK);
        when(restTemplate.exchange(anyString(), any(), any(HttpEntity.class), eq(String.class)))
                .thenReturn(mockResponse);

        var result = upscaleService.upscale(image);

        assertEquals(HttpStatus.BAD_REQUEST, result.getStatusCode());
        assertEquals("API Error: No exception information found in the response.", result.getBody());
        verify(restTemplate, times(1)).exchange(anyString(), eq(HttpMethod.POST), any(HttpEntity.class), eq(String.class));
    }

    @Test
    public void testUpscaleInvalidImageSize() {
        var image = mock(MultipartFile.class);
        when(image.getSize()).thenReturn(11 * 1024 * 1024L); // Image size > MAX_FILE_SIZE

        var result = upscaleService.upscale(image);

        assertEquals(HttpStatus.BAD_REQUEST, result.getStatusCode());
        assertEquals("File size exceeds the maximum allowed limit of 10mb.", result.getBody());
        verify(restTemplate, never()).exchange(anyString(), eq(HttpMethod.POST), any(HttpEntity.class), eq(String.class));
    }

    @Test
    public void testUpscaleInvalidBase64Data() throws IOException {
        var image = mock(MultipartFile.class);
        when(image.getSize()).thenReturn(1024L);
        when(image.getBytes()).thenReturn("invalid-base64-data".getBytes());

        var result = upscaleService.upscale(image);

        assertEquals(HttpStatus.BAD_REQUEST, result.getStatusCode());
        assertEquals("Invalid base64 encoded data.", result.getBody());
        verify(restTemplate, never()).exchange(anyString(), eq(HttpMethod.POST), any(HttpEntity.class), eq(String.class));
    }

}